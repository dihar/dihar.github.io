function pralaxShadow(){var t=[];return $(".card, .diplom").not(".card-modal").each(function(e,i){t.push(new BoxShadow($(i)))}),{scroll:function(){var e=$(window).height()/2+$(window).scrollTop();t.forEach(function(t){t.scrolling(e)})}}}function BoxShadow(t){var e={},i=t.innerHeight()/2;t.css("transition","all 0.2s");var o=parseCssShadow(t.css("box-shadow")),n=o.yVal,a=i+t.offset().top;return e.scrolling=function(e){if(a-2*i>e)setCssShadowValue(t,o,n);else if(e>a+2*i)setCssShadowValue(t,o,-1*n);else{var r=n*(a-e)/(2*i);setCssShadowValue(t,o,r)}},e}function parseCssShadow(t){var e=t.split(" ");return{color:e[0]+" "+e[1]+" "+e[2]+" "+e[3],xVal:parseInt(e[4]),yVal:parseInt(e[5]),sVal:parseInt(e[6]),bVal:parseInt(e[7])}}function setCssShadowValue(t,e,i){t.css("box-shadow",e.color+" "+e.xVal+"px "+i+"px "+e.sVal+"px "+e.bVal+"px ")}function TimeObj(t){var e,i={};return i.update=function(){e=new Date(t-new Date)},i.update(),i.getDay=function(){var t=e.getDate()-1;return{val:t,caption:getNumeralFromArr(["день","дня","дней"],t)}},i.getHours=function(){var t=e.getHours();return{val:t,caption:getNumeralFromArr(["час","часа","часов"],t)}},i.getMinutes=function(){var t=e.getMinutes();return{val:t,caption:getNumeralFromArr(["минута","минуты","минут"],t)}},i}function getNumeralFromArr(t,e){if(t.length<3)return!1;if(strDigit=e.toString(),strDigit.length>1&&"1"===strDigit.slice(strDigit.length-2,strDigit.length-1))return t[2];var i=strDigit.slice(strDigit.length-1,strDigit.length);return strDigit.length>0&&"1"===i?t[0]:(i=parseInt(i),strDigit.length>0&&i>1&&5>i?t[1]:t[2])}function scrollCard(t,e,i,o,n){e>t?o.css({position:"absolute",right:40,top:20,bottom:"auto"}):t>=e&&i>=t?o.css({right:n.right,position:"fixed",top:20,bottom:"auto"}):t>i&&o.css({position:"absolute",right:40,bottom:5,top:"auto"})}function TimelineScroll(t){var e=0,i=0,o=120,n=t.find(".counter"),a=$(window).width()<800?10:18;n.css("left",t.offset().left-a);var r=[];return t.find(".items .item").each(function(t,e){r.push(0)}),function(a){e=0,t.find(".items .item").each(function(t,i){a-$(i).offset().top+40>0&&(e+=parseInt($(i).find(".digit").text()))}),$(".digit",n).text(e),$(".caption",n).text(getNumeralFromArr(["Час","Часа","Часов"],e)),i!==e&&(n.addClass("active"),i=e,setTimeout(function(){n.removeClass("active")},200)),a<t.offset().top-o||a>t.offset().top+t.height()?n.css("opacity",0):n.css("opacity",1)}}function parseDate(t){var e=["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"],i=new RegExp(/^\s?(\d{1,2})\s([А-ЯЁа-яё]+)\s?(\d{4})?/,"i"),o=i.exec(t),n=parseInt(o[1])||1,a=e.indexOf(o[2]);0>a&&(a=0);var r=parseInt(o[3]);return{day:n,month:a,year:r}}$(document).ready(function(){function t(){l.update(),c.each(function(t,e){$(e).toggleClass("darken"),$(".digit.days .num",e).text(l.getDay().val),$(".digit.days .caption",e).text(l.getDay().caption),$(".digit.hours .num",e).text(l.getHours().val),$(".digit.hours .caption",e).text(l.getHours().caption),$(".digit.minutes .num",e).text(l.getMinutes().val),$(".digit.minutes .caption",e).text(l.getMinutes().caption)})}$("[data-scroll]").click(function(t){t.preventDefault();var e=$(this).data("scroll");return $(e).length>0?($("html, body").animate({scrollTop:$(e).offset().top},"slow"),!1):void 0});var e=pralaxShadow(),i=$("#whatInCourse"),o=$(".scrolling-card",i),n=($(window).width()-$(".row",i).width())/2+40,a=TimelineScroll($("#timeline")),r=$(window).width()<767;$(window).on("scroll",function(){e.scroll();var t=$(window).scrollTop(),s=$(window).height()/2+t,l=$("#processOfEducation");a(t),l.offset().top-l.height()/2<s&&$(".circle-check-icon",l).each(function(t,e){setTimeout(function(){$(e).removeClass("icon-fade")},300+300*t)});var c=$(".flex-icon-list");c.offset().top-c.height()/2<s&&$(".blue-icon",c).each(function(t,e){setTimeout(function(){$(e).removeClass("icon-fade")},300+300*t)}),r||scrollCard(t,i.offset().top+2*$("h2",i).height(),i.offset().top+i.height()-o.height()-$("h2",i).height()+30,o,{right:n,diff:$("h2",i).height()})}),$(window).on("resize",function(){var t=$(window).scrollTop();r=$(window).width()<767,a=TimelineScroll($("#timeline")),a(t),n=($(window).width()-$(".row",i).width())/2+40,r?o.css({position:"",right:"",bottom:"",top:""}):scrollCard(t,i.offset().top+2*$("h2",i).height(),i.offset().top+i.height()-o.height()-$("h2",i).height()+30,o,{right:n,diff:$("h2",i).height()})});var s=parseDate($("#date-deadline").val()||"1 августа 2017"),l=new TimeObj(new Date(s.year||(new Date).getFullYear(),s.month||0,(s.day||1)+1,-3)),c=$(".deadline");t(),setInterval(function(){t()},1e3)});
//# sourceMappingURL=main-min.js.map

{"version":3,"sources":["main.js"],"names":["activatePopovers","$","each","i","box","showBox","isOpen","timer","setTimeout","hideNewBox","hide","find","finish","end","removeClass","empty","boxWrapNew","window","unbind","boxWrap","parent","offset","windowScroll","scrollTop","buttons","button","clone","css","position","left","top","display","width","data","appendTo","height","scroll","show","fadeIn","addClass","append","touchStamp","on","Date","noOpen","hideBox","clearTimeout","fadeOut","e","isTouching","val","modal","click","checkWindowSize","owl","owlCarousel","items","itemsTablet","pagination","prev","bind","next","destroy","undefined","timerTikActivate","$timer","tik","timeObj","update","$days","text","getDay","caption","$hours","getHours","$minutes","getMinutes","opacity","timeArr","split","remove","TimeObj","timeStamp","leftTime","that","timeLost","leftDay","getDate","getNumeralFromArr","leftHours","strVal","toString","length","leftMinutes","arr","digit","strDigit","slice","temp","parseInt","load","detach","stopImmediatePropagation","resize"],"mappings":"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","file":"main-min.js","sourcesContent":["$(window).load(function() {\r\n\t$('body').removeClass('unload');\r\n\t$('.preloader').detach();\r\n\ttimerTikActivate($('.sale-time-timer'));\r\n\tcheckWindowSize(true);\r\n\tactivatePopovers();\r\n});\r\n\r\n\r\nvar isTouching = false;\r\nif ('ontouchstart' in window) {\r\n\tisTouching = true;\r\n\t$('.stand-image-wrap a').on('click', function(e){\r\n\t\te.stopImmediatePropagation();\r\n\t});\r\n}\r\n\r\n\r\n//no optimize code:\r\nfunction activatePopovers(){\r\n\t$('.stand-up-wrap .stand-box').each(function(i, box){\r\n\t\tsetTimeout(function(){\r\n\t\t\t$(box).removeClass('isHover');\r\n\t\t}, i*150 + 500);\r\n\t\tvar timer;\r\n\t\tvar isOpen = false;\r\n\t\tvar noOpen = false; //hoisting inner function hideNewBox() status\r\n\t\t$(box)\r\n\t\t\t.on('mouseenter', function(){\r\n\t\t\t\tshowBox();\r\n\t\t\t})\r\n\t\t\t.on('mouseleave', function(){\r\n\t\t\t\thideBox();\r\n\t\t\t})\r\n\t\t\t.on('click', function(e){\r\n\t\t\t\tif(isTouching) {\r\n\t\t\t\t\tif(noOpen){\r\n\t\t\t\t\t\tnoOpen = false;\r\n\t\t\t\t\t} else{\r\n\t\t\t\t\t\tshowBox();\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\t$('.modal-book form select').val($(box).data('select'));\r\n\t\t\t\t\t$('.modal-book').modal('show');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t$(box).find('.stand-btn').click(function(){\r\n\t\t\tif(isTouching) {\r\n\t\t\t\t$('.modal-book form select').val($(box).data('select'));\r\n\t\t\t\t$('.modal-book').modal('show');\r\n\t\t\t}\r\n\t\t});\r\n\t\t$(window).click(function(){\r\n\t\t\tnoOpen = false;\r\n\t\t})\r\n\r\n\t\tfunction showBox(){\r\n\t\t\tif(!isOpen){\r\n\t\t\t\ttimer = setTimeout(function(){\r\n\t\t\t\t\ttimer = 0;\r\n\t\t\t\t\tisOpen = true;\r\n\t\t\t\t\tvar boxWrap = $(box).parent();\r\n\t\t\t\t\tvar offset = boxWrap.offset();\r\n\t\t\t\t\tvar windowScroll = $(window).scrollTop();\r\n\r\n\t\t\t\t\tvar buttons = $('.stand-front .stand-btn');\r\n\t\t\t\t\tbuttons.each(function(i, button){\r\n\t\t\t\t\t\tbutton = $(button);\r\n\t\t\t\t\t\tbutton.clone(true).css({\r\n\t\t\t\t\t\t\tposition: 'fixed',\r\n\t\t\t\t\t\t\tleft: button.offset().left,\r\n\t\t\t\t\t\t\ttop: button.offset().top - windowScroll,\r\n\t\t\t\t\t\t\tdisplay: 'block',\r\n\t\t\t\t\t\t\twidth: button.width()\r\n\t\t\t\t\t\t}).data('offset', button.offset()).appendTo('.box-area');\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tvar boxWrapNew = boxWrap.clone(true).css({\r\n\t\t\t\t\t\tposition: 'fixed',\r\n\t\t\t\t\t\tleft: offset.left,\r\n\t\t\t\t\t\ttop: offset.top - windowScroll,\r\n\t\t\t\t\t\tdisplay: 'block',\r\n\t\t\t\t\t\theight: boxWrap.height()\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t$(window).scroll(function(){\r\n\t\t\t\t\t\tvar windowScroll = $(window).scrollTop();\r\n\t\t\t\t\t\tvar buttons = $('.box-area>.stand-btn');\r\n\t\t\t\t\t\tbuttons.each(function(i, button){\r\n\t\t\t\t\t\t\tbutton = $(button);\r\n\t\t\t\t\t\t\tbutton.css({\r\n\t\t\t\t\t\t\t\tleft: button.data('offset').left,\r\n\t\t\t\t\t\t\t\ttop: button.data('offset').top - windowScroll,\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tboxWrapNew.css({\r\n\t\t\t\t\t\t\tleft: offset.left,\r\n\t\t\t\t\t\t\ttop: offset.top - windowScroll,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t$('.hover-area').show(0)\r\n\t\t\t\t\t\t.find('.dark-black').fadeIn(300)\r\n\t\t\t\t\t\t.end().find('.box-light')\r\n\t\t\t\t\t\t.css('left', offset.left + boxWrap.width() / 2).addClass('isVisible')\r\n\t\t\t\t\t\t.end().find('.box-area').append(boxWrapNew);\r\n\t\t\t\t\t\tboxWrapNew.find('.stand-box').addClass('isLighten');\r\n\r\n\t\t\t\t\t$('.stand-popover', boxWrapNew).fadeIn();\r\n\t\t\t\t\t$(box).addClass('isHover');\r\n\r\n\t\t\t\t\tvar touchStamp;\r\n\t\t\t\t\t$('.stand-box', boxWrapNew)\r\n\t\t\t\t\t\t.on('mouseleave', function(){\r\n\t\t\t\t\t\t\thideNewBox();\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.on('touchstart', function(){\r\n\t\t\t\t\t\t\ttouchStamp = new Date();\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.on('touchend', function(){\r\n\t\t\t\t\t\t\tif(new Date() - touchStamp < 100){\r\n\t\t\t\t\t\t\t\thideNewBox();\r\n\t\t\t\t\t\t\t\tnoOpen = true;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\tfunction hideNewBox(){\r\n\t\t\t\t\t\t$('.hover-area').hide(0)\r\n\t\t\t\t\t\t\t.find('.dark-black').finish().hide(0)\r\n\t\t\t\t\t\t\t.end().find('.box-light').removeClass('isVisible')\r\n\t\t\t\t\t\t\t.end().find('.box-area').empty();\r\n\t\t\t\t\t\tisOpen = false;\r\n\t\t\t\t\t\t$('.stand-popover', boxWrapNew).finish().hide(0);\r\n\t\t\t\t\t\t$(box).removeClass('isHover');\r\n\t\t\t\t\t\t$(window).unbind('scroll');\r\n\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t}, 200);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfunction hideBox(){\r\n\t\t\tclearTimeout(timer);\r\n\t\t\tif(!!timer){\r\n\t\t\t\tisOpen = false;\r\n\t\t\t\t$('.dark-back').finish().fadeOut(0).find('.box-area').empty();\r\n\t\t\t\t$(window).unbind('scroll');\r\n\t\t\t\t$('.stand-popover', box).finish().hide(0);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t});\r\n}\r\n\r\n\r\n$(window).resize(checkWindowSize);\r\n\r\n//sorry for this globals variables=)\r\nvar owl;\r\nvar timer;\r\n\r\nfunction checkWindowSize(e){\r\n\tif(!!timer){\r\n\t\tclearTimeout(timer);\r\n\t}\r\n\ttimer = setTimeout(function(){\r\n\t\tif($(window).width() < 660){\r\n\t\t\tif(!owl){\r\n\t\t\t\towl = $('.stand-up-wrap').owlCarousel({\r\n\t\t\t\t\titems: 5,\r\n\t\t\t\t\titemsTablet: [660,3],\r\n\t\t\t\t\tpagination: false\r\n\t\t\t\t}).data('owlCarousel');\r\n\t\t\t\t$('.owl-controls').show();\r\n\t\t\t\t$('.owl-controls .owl-prev').click(owl.prev.bind(owl));\r\n\t\t\t\t$('.owl-controls .owl-next').click(owl.next.bind(owl));\r\n\t\t\t\t$('.hover-area').addClass('inCarousel')\r\n\t\t\t}\r\n\t\t}else if(!!owl){\r\n\t\t\t$('.owl-controls .owl-prev').unbind('click');\r\n\t\t\t$('.owl-controls .owl-next').unbind('click');\r\n\t\t\t$('.hover-area').removeClass('inCarousel');\r\n\t\t\towl.destroy();\r\n\t\t\towl = undefined;\r\n\t\t\t$('.owl-controls').hide();\r\n\t\t}\r\n\t}, e===true ? 0 : 300);\r\n}\r\n\r\n\r\nfunction timerTikActivate($timer){\r\n\r\n\tvar timeArr = $('.time-stamp').text().split(', ');\r\n\t$('.time-stamp').remove();\r\n\tvar timeObj = TimeObj(new Date(timeArr[0], timeArr[1] - 1, timeArr[2]));\r\n\r\n\tvar $days = $timer.find('.sale-time-days');\r\n\tvar $hours = $timer.find('.sale-time-hours');\r\n\tvar $minutes = $timer.find('.sale-time-minutes');\r\n\r\n\ttik();\r\n\r\n\tfunction tik(){\r\n\t\ttimeObj.update();\r\n\r\n\r\n\t\t$days.find('.sale-time-num').text(timeObj.getDay().val);\r\n\t\t$days.find('.sale-time-caption').text(timeObj.getDay().caption);\r\n\r\n\t\t$hours.find('.sale-time-num').text(timeObj.getHours().val);\r\n\t\t$hours.find('.sale-time-caption').text(timeObj.getHours().caption);\r\n\r\n\t\t$minutes.find('.sale-time-num').text(timeObj.getMinutes().val);\r\n\t\t$minutes.find('.sale-time-caption').text(timeObj.getMinutes().caption);\r\n\r\n\t\t$timer.find('.limiter').css({opacity: '0'});\r\n\r\n\t\tsetTimeout(function(){\r\n\t\t\t$timer.find('.limiter').css({opacity: ''});\r\n\t\t}, 500);\r\n\r\n\t\tsetTimeout(tik, 1000);\r\n\r\n\t}\r\n}\r\nfunction TimeObj(timeStamp){\r\n\r\n\tvar that = {};\r\n\tvar leftTime;\r\n\tvar timeLost = false;\r\n\r\n\tthat.update = function(){\r\n\t\tleftTime = new Date(timeStamp - new Date());\r\n\t\tif(timeStamp < new Date()){\r\n\t\t\ttimeLost = true;\r\n\t\t}\r\n\t}\r\n\r\n\tthat.update();\r\n\r\n\tthat.getDay = function(){\r\n\t\tvar leftDay = timeLost ? 0 : leftTime.getDate() - 1;\r\n\r\n\t\treturn {\r\n\t\t\tval: leftDay,\r\n\t\t\tcaption: getNumeralFromArr(['день', 'дня', 'дней'], leftDay)\r\n\t\t};\r\n\t}\r\n\tthat.getHours = function(){\r\n\t\tvar leftHours = timeLost ? 0 : leftTime.getHours();\r\n\t\tvar strVal = (leftHours.toString().length < 2) ? '0' + leftHours : leftHours;\r\n\t\treturn {\r\n\t\t\tval: strVal,\r\n\t\t\tcaption: getNumeralFromArr(['час', 'часа', 'часов'], leftHours)\r\n\t\t};\r\n\t}\r\n\tthat.getMinutes = function(){\r\n\t\tvar leftMinutes = timeLost ? 0 : leftTime.getMinutes();\r\n\t\tvar strVal = (leftMinutes.toString().length < 2) ? '0' + leftMinutes : leftMinutes;\r\n\t\treturn {\r\n\t\t\tval: strVal,\r\n\t\t\tcaption: getNumeralFromArr(['минута', 'минуты', 'минут'], leftMinutes)\r\n\t\t};\r\n\t}\r\n\r\n\treturn that;\r\n\r\n}\r\n\r\nfunction getNumeralFromArr(arr, digit){\r\n\tif(arr.length<3){\r\n\t\treturn false;\r\n\t}\r\n\tstrDigit = digit.toString();\r\n\tif(strDigit.length>1 && \r\n\t\t\tstrDigit.slice(strDigit.length-2, strDigit.length-1) === \"1\"){\r\n\t\treturn arr[2];\r\n\t}\r\n\tvar temp = strDigit.slice(strDigit.length-1, strDigit.length);\r\n\tif(strDigit.length>0 && temp === \"1\"){\r\n\t\treturn arr[0];\r\n\t}\r\n\ttemp = parseInt(temp);\r\n\tif(strDigit.length>0 && temp > 1 && temp < 5){\r\n\t\treturn arr[1];\r\n\t}\r\n\treturn arr[2];\r\n}"],"sourceRoot":"/source/"}
{"version":3,"sources":["main.js"],"names":["timerTikActivate","$timer","tik","timeObj","update","$days","find","text","getDay","val","caption","$hours","getHours","$minutes","getMinutes","$seconds","getSeconds","setTimeout","TimeObj","Date","enableScrollButtons","$","click","e","preventDefault","target","this","data","length","animate","scrollTop","offset","top","svgInliner","each","i","el","get","src","after","next","addClass","className","remove","firstWindowAnimation","timer","activateSnapScroll","scrolling","clearTimeout","window","animStatus","animating","snapScrolling","stop","maxTop","dir","oldTop","activeSnap","getNearSnap","snaps","goToSnap","snap","duration","easing","progress","animation","done","$navigate","removeClass","eq","position","winT","dist","Math","abs","forEach","elem","undefined","active","index","map","element","slice","call","lastEl","height","addEventListener","parseInt","resize","removeEventListener","hide","continue","show","getActive","goTo","num","prepareElementsToShow","$els","from","to","dur","whenInWindow","css","bind","bottom","cb","diff","scroll","windowHeight","arr","not","timeStamp","leftTime","that","leftDay","getDate","getNumeralFromArr","leftHours","strVal","toString","leftMinutes","leftSeconds","digit","strDigit","temp","snapScroll","document","ready","width","opacity","transform"],"mappings":"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","file":"main-min.js","sourcesContent":["\r\nvar snapScroll;\r\n\r\n$(document).ready(function() {\r\n\r\n\r\n\tenableScrollButtons();\r\n\r\n\t$(window).resize(function() {\r\n\t\t!!snapScroll && !!snapScroll.getActive() \r\n\t\t\t&& ($(window).height() < 640 || $(window).width() < 991) \r\n\t\t\t&& snapScroll.stop();\r\n\r\n\t\t!!snapScroll && !snapScroll.getActive() \r\n\t\t\t&& ($(window).height() >= 640 && $(window).width() >= 991) \r\n\t\t\t&& snapScroll.continue();\r\n\r\n\t\t!!snapScroll && !!snapScroll.getActive() && snapScroll.resize();\r\n\r\n\r\n\t});\r\n});\r\n\r\nwindow.addEventListener('load', function(){\r\n\t$('.preloader').animate({\r\n\t\topacity: 0},\r\n\t\t200, function() {\r\n\t\tthis.remove();\r\n\t});\r\n\r\n\tsetTimeout(function(){\r\n\t\t\r\n\t\tfirstWindowAnimation();\r\n\r\n\t\tsnapScroll = activateSnapScroll();\r\n\t\tif($(window).height() < 640 || $(window).width() < 991){\r\n\t\t\tsnapScroll.stop();\r\n\t\t}\r\n\t\tprepareElementsToShow($('.what-learning-list, .form-and-timer'), {\r\n\t\t\t'transform': 'translate(0, 50%)',\r\n\t\t\t'opacity': '0'\r\n\t\t}, {\r\n\t\t\t'transform': '',\r\n\t\t\t'opacity': ''\r\n\t\t}, 600);\r\n\t}, 300);\r\n\r\n\ttimerTikActivate($('.form-block .timer'));\r\n\r\n})\r\n\r\n\r\n\r\n\r\n\r\nfunction timerTikActivate($timer){\r\n\tvar timeObj = TimeObj(new Date(2016, 3, 16));\r\n\r\n\tvar $days = $timer.find('.days');\r\n\tvar $hours = $timer.find('.hours');\r\n\tvar $minutes = $timer.find('.minutes');\r\n\tvar $seconds = $timer.find('.seconds');\r\n\r\n\ttik();\r\n\r\n\tfunction tik(){\r\n\t\ttimeObj.update();\r\n\r\n\r\n\t\t$days.find('.num').text(timeObj.getDay().val);\r\n\t\t$days.find('.caption').text(timeObj.getDay().caption);\r\n\r\n\t\t$hours.find('.num').text(timeObj.getHours().val);\r\n\t\t$hours.find('.caption').text(timeObj.getHours().caption);\r\n\r\n\t\t$minutes.find('.num').text(timeObj.getMinutes().val);\r\n\t\t$minutes.find('.caption').text(timeObj.getMinutes().caption);\r\n\r\n\t\t$seconds.find('.num').text(timeObj.getSeconds().val);\r\n\t\t$seconds.find('.caption').text(timeObj.getSeconds().caption);\r\n\r\n\t\tsetTimeout(tik, 1000);\r\n\r\n\t}\r\n}\r\n\r\nfunction enableScrollButtons(){\r\n\t$('[data-scroll]').click(function(e){\r\n\t\te.preventDefault();\r\n\t\tvar target = $(this).data('scroll');\r\n\t\tif($(target).length>0){\r\n\t\t\t$('html, body').animate({scrollTop:$(target).offset().top}, 'slow');\r\n\t\t\treturn false;\r\n\t\t}\r\n\t});\r\n}\r\n\r\ndocument.addEventListener('DOMContentLoaded', svgInliner);\r\n\r\n\r\nfunction svgInliner(){\r\n\t$('[data-svg]').each(function(i, el){\r\n\t\t$.get(el.src, function(data) {\r\n\t\t\t$(el).after($(data).find('svg')).next().addClass(el.className);\r\n\t\t\tel.remove();\r\n\t\t});\r\n\t});\r\n}\r\n\r\nfunction firstWindowAnimation(){\r\n\tvar timer = 0;\r\n\r\n\t$('.bg-view-port .blur-bg').addClass('blured');\r\n\r\n\ttimer+=400;\r\n\r\n\tsetTimeout(function(){\r\n\t\t$('.bg-view-port .blur-bg').addClass('focused');\r\n\t\t$('.first-window .tiket').addClass('showen');\r\n\t}, timer);\r\n\r\n\ttimer+=800;\r\n\r\n\tsetTimeout(function(){\r\n\t\t$('.first-window .deadline').addClass('showen');\r\n\t}, timer);\r\n}\r\n\r\n\r\n\r\nfunction activateSnapScroll(){\r\n\tvar active = true;\r\n\r\n\tvar $navigate = $('.nav-panel a').each(function(index, el) {\r\n\t\t$(this).data('position', index);\r\n\t});;\r\n\tvar snaps = $('[data-snap-scroll]').map(function(index, elem) {\r\n\t\treturn {\r\n\t\t\tposition: index,\r\n\t\t\telement: elem,\r\n\t\t\ttop: $(elem).offset().top\r\n\t\t};\r\n\t});\r\n\r\n\tsnaps = [].slice.call(snaps);\r\n\r\n\tvar lastEl = snaps[snaps.length - 1];\r\n\r\n\tvar maxTop = lastEl.top + $(lastEl.element).height() - $(window).height();\r\n\r\n\tvar activeSnap = 0;\r\n\r\n\tvar timer = null;\r\n\r\n\tvar animStatus = {\r\n\t\tstop: false,\r\n\t\tanimating: false,\r\n\t\tsnapScrolling: false\r\n\t}\r\n\r\n\tgoToSnap(snaps[activeSnap]);\r\n\r\n\twindow.addEventListener('scroll', scrolling);\r\n\r\n\tvar oldTop = 0;\r\n\r\n\t$navigate.click(function(e){\r\n\t\te.preventDefault();\r\n\t\tactiveSnap = parseInt($(this).data('position'));\r\n\t\tgoToSnap(snaps[activeSnap]);\r\n\t});\r\n\r\n\tfunction scrolling(e){\r\n\t\tif(!!timer){\r\n\t\t\tclearTimeout(timer);\r\n\t\t\ttimer = null;\r\n\t\t}\r\n\t\tvar scrollTop = $(window).scrollTop();\r\n\r\n\t\tif(animStatus.animating && !animStatus.snapScrolling){\r\n\t\t\tanimStatus.stop = true;\r\n\t\t}\r\n\r\n\t\tif((!animStatus.animating && !animStatus.snapScrolling) && scrollTop < maxTop){\r\n\t\t\tvar dir = scrollTop - oldTop > 0;\r\n\t\t\toldTop = scrollTop;\r\n\t\t\ttimer = setTimeout(function(){\r\n\t\t\t\ttimer = null;\r\n\t\t\t\tvar activeSnap = getNearSnap(\r\n\t\t\t\t\tscrollTop, \r\n\t\t\t\t\tsnaps,\r\n\t\t\t\t\tdir);\r\n\t\t\t\tgoToSnap(activeSnap);\r\n\t\t\t},20);\r\n\t\t}\r\n\t\tanimStatus.snapScrolling = false;\r\n\t}\r\n\r\n\tfunction goToSnap(snap){\r\n\t\tanimStatus.animating = true;\r\n\t\t$('html, body').animate({scrollTop:snap.top}, {\r\n\t\t\tduration: 300,\r\n\t\t\teasing: 'easeOutExpo',\r\n\t\t\tprogress: function(animation){\r\n\t\t\t\tanimStatus.snapScrolling = true;\r\n\t\t\t\tif(animStatus.stop){\r\n\t\t\t\t\tanimation.stop();\r\n\t\t\t\t\tanimStatus.animating = false;\r\n\t\t\t\t\tanimStatus.stop = false;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdone: function(){\r\n\t\t\t\tanimStatus.animating = false;\r\n\t\t\t\t$navigate.removeClass('active').eq(snap.position).addClass('active');\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tfunction getNearSnap(winT, snaps, dir){\r\n\t\tvar el = snaps[0];\r\n\t\tvar dist = Math.abs(winT - el.top);\r\n\t\tsnaps.forEach(function(elem, i){\r\n\t\t\tif(Math.abs(winT - elem.top) < dist){\r\n\t\t\t\tel = elem;\r\n\t\t\t\tdist = Math.abs(winT - elem.top);\r\n\t\t\t}\r\n\t\t});\r\n\t\tif(dir === undefined){\r\n\t\t\tactiveSnap = el.position;\r\n\t\t\treturn el;\r\n\t\t}\r\n\t\tif(activeSnap == el.position && dir && snaps[activeSnap + 1]){\r\n\t\t\tel = snaps[activeSnap + 1];\r\n\t\t}else if(activeSnap == el.position && !dir && snaps[activeSnap - 1]){\r\n\t\t\tel = snaps[activeSnap - 1];\r\n\t\t}\r\n\t\tactiveSnap = el.position;\r\n\t\treturn el;\r\n\t}\r\n\treturn {\r\n\t\tresize: function(){\r\n\t\t\tsnaps.forEach(function(el, index){\r\n\t\t\t\tel.top = $(el.element).offset().top;\r\n\t\t\t});\t\r\n\t\t\tmaxTop = lastEl.top + $(lastEl.element).height() - $(window).height();\r\n\t\t},\r\n\t\tstop: function(){\r\n\t\t\tif(!active){\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\twindow.removeEventListener('scroll', scrolling);\r\n\t\t\tactive = false;\r\n\t\t\t$('.nav-panel').hide();\r\n\t\t},\r\n\t\tcontinue: function(){\r\n\t\t\tif(active){\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\twindow.addEventListener('scroll', scrolling);\r\n\t\t\tactive = true;\r\n\t\t\t$('.nav-panel').show();\r\n\t\t},\r\n\t\tgetActive: function(){\r\n\t\t\treturn active;\r\n\t\t},\r\n\t\tgoTo: function(num){\r\n\t\t\tnum = parseInt(num);\r\n\t\t\tif(!!snaps[num]){\r\n\t\t\t\tgoToSnap(snaps[num]);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction prepareElementsToShow($els, from, to, dur){\r\n\tdur = parseInt(dur);\r\n\tif(dur <= 0){\r\n\t\tdur = 0;\r\n\t}\r\n\twhenInWindow($els, function(){\r\n\t\t$(this).css(to);\r\n\t\tsetTimeout($els.css.bind(this,'transition',''), dur+100);\r\n\t}, {top: -350, bottom: 0});\r\n\t$els.css(from).css('transition','all '+ dur +'ms ease-in');\r\n}\r\n\r\nfunction whenInWindow($els, cb, diff){\r\n\tif(diff === undefined){\r\n\t\tdiff = {\r\n\t\t\ttop: 0,\r\n\t\t\tbottom: 0\r\n\t\t};\r\n\t}\r\n\tdiff = diff || 0;\r\n\t$(window).scroll(function(){\r\n\t\tvar scrollTop = $(window).scrollTop();\r\n\t\tvar windowHeight = $(window).height();\r\n\t\t$els.each(function(index, el, arr) {\r\n\t\t\tel = $(el);\r\n\t\t\tvar offset = el.offset();\r\n\t\t\tif(scrollTop + windowHeight >= offset.top + diff.top && \r\n\t\t\t\tel.height() + offset.top + diff.bottom >= scrollTop){\r\n\t    \t  \tcb.call(el);\r\n\t\t    \t$els = $els.not(el);\r\n\t\t}});\r\n\t});\r\n}\r\n\r\nfunction TimeObj(timeStamp){\r\n\r\n\tvar that = {};\r\n\tvar leftTime;\r\n\r\n\tthat.update = function(){\r\n\t\tleftTime = new Date(timeStamp - new Date());\r\n\t}\r\n\r\n\tthat.update();\r\n\r\n\tthat.getDay = function(){\r\n\t\tvar leftDay = leftTime.getDate();\r\n\t\treturn {\r\n\t\t\tval: leftDay,\r\n\t\t\tcaption: getNumeralFromArr(['день', 'дня', 'дней'], leftDay)\r\n\t\t};\r\n\t}\r\n\tthat.getHours = function(){\r\n\t\tvar leftHours = leftTime.getHours();\r\n\t\tvar strVal = (leftHours.toString().length < 2) ? '0' + leftHours : leftHours;\r\n\t\treturn {\r\n\t\t\tval: strVal,\r\n\t\t\tcaption: getNumeralFromArr(['час', 'часа', 'часов'], leftHours)\r\n\t\t};\r\n\t}\r\n\tthat.getMinutes = function(){\r\n\t\tvar leftMinutes = leftTime.getMinutes();\r\n\t\tvar strVal = (leftMinutes.toString().length < 2) ? '0' + leftMinutes : leftMinutes;\r\n\t\treturn {\r\n\t\t\tval: strVal,\r\n\t\t\tcaption: getNumeralFromArr(['минута', 'минуты', 'минут'], leftMinutes)\r\n\t\t};\r\n\t}\r\n\tthat.getSeconds = function(){\r\n\t\tvar leftSeconds = leftTime.getSeconds();\r\n\t\tvar strVal = (leftSeconds.toString().length < 2) ? '0' + leftSeconds : leftSeconds;\r\n\t\treturn {\r\n\t\t\tval: strVal,\r\n\t\t\tcaption: getNumeralFromArr(['секунда', 'секунды', 'секунд'], leftSeconds)\r\n\t\t};\r\n\t}\r\n\treturn that;\r\n\r\n}\r\n\r\nfunction getNumeralFromArr(arr, digit){\r\n\tif(arr.length<3){\r\n\t\treturn false;\r\n\t}\r\n\tstrDigit = digit.toString();\r\n\tif(strDigit.length>1 && \r\n\t\t\tstrDigit.slice(strDigit.length-2, strDigit.length-1) === \"1\"){\r\n\t\treturn arr[2];\r\n\t}\r\n\tvar temp = strDigit.slice(strDigit.length-1, strDigit.length);\r\n\tif(strDigit.length>0 && temp === \"1\"){\r\n\t\treturn arr[0];\r\n\t}\r\n\ttemp = parseInt(temp);\r\n\tif(strDigit.length>0 && temp > 1 && temp < 5){\r\n\t\treturn arr[1];\r\n\t}\r\n\treturn arr[2];\r\n}\r\n\r\nfunction enableScrollButtons(){\r\n\t$('[data-scroll]').click(function(e){\r\n\t\te.preventDefault();\r\n\t\tsnapScroll.goTo(3);\r\n\t});\r\n}"],"sourceRoot":"/source/"}
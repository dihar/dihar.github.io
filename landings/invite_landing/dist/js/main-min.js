function timerTikActivate(t){function n(){i.update(),o.find(".num").text(i.getDay().val),o.find(".caption").text(i.getDay().caption),e.find(".num").text(i.getHours().val),e.find(".caption").text(i.getHours().caption),a.find(".num").text(i.getMinutes().val),a.find(".caption").text(i.getMinutes().caption),r.find(".num").text(i.getSeconds().val),r.find(".caption").text(i.getSeconds().caption),setTimeout(n,1e3)}var i=TimeObj(new Date(2016,3,16)),o=t.find(".days"),e=t.find(".hours"),a=t.find(".minutes"),r=t.find(".seconds");n()}function enableScrollButtons(){$("[data-scroll]").click(function(t){t.preventDefault();var n=$(this).data("scroll");if($(n).length>0)return $("html, body").animate({scrollTop:$(n).offset().top},"slow"),!1})}function svgInliner(){$("[data-svg]").each(function(t,n){$.get(n.src,function(t){$(n).after($(t).find("svg")).next().addClass(n.className),n.remove()})})}function firstWindowAnimation(){var t=0;$(".bg-view-port .blur-bg").addClass("blured"),t+=400,setTimeout(function(){$(".bg-view-port .blur-bg").addClass("focused"),$(".first-window .tiket").addClass("showen")},t),t+=800,setTimeout(function(){$(".first-window .deadline").addClass("showen")},t)}function activateSnapScroll(){function t(t){c&&(clearTimeout(c),c=null);var o=$(window).scrollTop();if(u.animating&&!u.snapScrolling&&(u.stop=!0),!u.animating&&!u.snapScrolling&&o<s){var e=o-d>0;d=o,c=setTimeout(function(){c=null;var t=i(o,a,e);n(t)},20)}u.snapScrolling=!1}function n(t){u.animating=!0,$("html, body").animate({scrollTop:t.top},{duration:300,easing:"easeOutExpo",progress:function(t){u.snapScrolling=!0,u.stop&&(t.stop(),u.animating=!1,u.stop=!1)},done:function(){u.animating=!1,e.removeClass("active").eq(t.position).addClass("active")}})}function i(t,n,i){var o=n[0],e=Math.abs(t-o.top);return n.forEach(function(n,i){Math.abs(t-n.top)<e&&(o=n,e=Math.abs(t-n.top))}),void 0===i?(l=o.position,o):(l==o.position&&i&&n[l+1]?o=n[l+1]:l==o.position&&!i&&n[l-1]&&(o=n[l-1]),l=o.position,o)}var o=!0,e=$(".nav-panel a").each(function(t,n){$(this).data("position",t)}),a=$("[data-snap-scroll]").map(function(t,n){return{position:t,element:n,top:$(n).offset().top}});a=[].slice.call(a);var r=a[a.length-1],s=r.top+$(r.element).height()-$(window).height(),l=0,c=null,u={stop:!1,animating:!1,snapScrolling:!1};n(a[l]),window.addEventListener("scroll",t);var d=0;return e.click(function(t){t.preventDefault(),l=parseInt($(this).data("position")),n(a[l])}),{resize:function(){a.forEach(function(t,n){t.top=$(t.element).offset().top}),s=r.top+$(r.element).height()-$(window).height()},stop:function(){return!!o&&(window.removeEventListener("scroll",t),o=!1,void $(".nav-panel").hide())},"continue":function(){return!o&&(window.addEventListener("scroll",t),o=!0,void $(".nav-panel").show())},getActive:function(){return o},goTo:function(t){t=parseInt(t),a[t]&&n(a[t])}}}function prepareElementsToShow(t,n,i,o){o=parseInt(o),o<=0&&(o=0),whenInWindow(t,function(){$(this).css(i),setTimeout(t.css.bind(this,"transition",""),o+100)},{top:-350,bottom:0}),t.css(n).css("transition","all "+o+"ms ease-in")}function whenInWindow(t,n,i){void 0===i&&(i={top:0,bottom:0}),i=i||0,$(window).scroll(function(){var o=$(window).scrollTop(),e=$(window).height();t.each(function(a,r,s){r=$(r);var l=r.offset();o+e>=l.top+i.top&&r.height()+l.top+i.bottom>=o&&(n.call(r),t=t.not(r))})})}function TimeObj(t){var n,i={};return i.update=function(){n=new Date(t-new Date)},i.update(),i.getDay=function(){var t=n.getDate();return{val:t,caption:getNumeralFromArr(["день","дня","дней"],t)}},i.getHours=function(){var t=n.getHours(),i=t.toString().length<2?"0"+t:t;return{val:i,caption:getNumeralFromArr(["час","часа","часов"],t)}},i.getMinutes=function(){var t=n.getMinutes(),i=t.toString().length<2?"0"+t:t;return{val:i,caption:getNumeralFromArr(["минута","минуты","минут"],t)}},i.getSeconds=function(){var t=n.getSeconds(),i=t.toString().length<2?"0"+t:t;return{val:i,caption:getNumeralFromArr(["секунда","секунды","секунд"],t)}},i}function getNumeralFromArr(t,n){if(t.length<3)return!1;if(strDigit=n.toString(),strDigit.length>1&&"1"===strDigit.slice(strDigit.length-2,strDigit.length-1))return t[2];var i=strDigit.slice(strDigit.length-1,strDigit.length);return strDigit.length>0&&"1"===i?t[0]:(i=parseInt(i),strDigit.length>0&&i>1&&i<5?t[1]:t[2])}function enableScrollButtons(){$("[data-scroll]").click(function(t){t.preventDefault(),snapScroll.goTo(3)})}var snapScroll;$(document).ready(function(){enableScrollButtons(),$(window).resize(function(){!!snapScroll&&!!snapScroll.getActive()&&($(window).height()<640||$(window).width()<991)&&snapScroll.stop(),!!snapScroll&&!snapScroll.getActive()&&$(window).height()>=640&&$(window).width()>=991&&snapScroll["continue"](),!!snapScroll&&!!snapScroll.getActive()&&snapScroll.resize()})}),window.addEventListener("load",function(){$(".preloader").animate({opacity:0},200,function(){this.remove()}),setTimeout(function(){firstWindowAnimation(),snapScroll=activateSnapScroll(),($(window).height()<640||$(window).width()<991)&&snapScroll.stop(),prepareElementsToShow($(".what-learning-list, .form-and-timer"),{transform:"translate(0, 50%)",opacity:"0"},{transform:"",opacity:""},600)},300),timerTikActivate($(".form-block .timer"))}),document.addEventListener("DOMContentLoaded",svgInliner);
//# sourceMappingURL=dist/js/main-min.js.map

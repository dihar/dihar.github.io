{"version":3,"sources":["main.js"],"names":["addLabel","$elems","not","each","i","el","innerHTML","trim","addFucknDisable","$sel","attr","NavContentsControll","$titles","$contents","active","length","arrEls","Array","prototype","slice","call","map","index","elem","$","offset","top","reverse","this","scroll","windowTop","window","scrollTop","forEach","arr","removeClass","eq","addClass","FixedNav","$nav","resetStyles","css","position","bottom","left","paddingBottom","parentNav","parent","minHeight","maxHeight","height","leftNav","contentsListHeight","find","contentsListSlider","enableScrollButtons","click","e","preventDefault","target","data","animate","chooseTheme","$lists","text","number","prev","className","replace","removeAttr","parseInt","val","document","ready","fixedNav","resize"],"mappings":"AAsBA,QAAAA,UAAAC,GACAA,EAAAC,IAAA,SAAAC,KAAA,SAAAC,EAAAC,GACAA,EAAAC,UAAAD,EAAAC,UAAAC,OACA,2DAIA,QAAAC,iBAAAC,GACAA,EAAAC,KAAA,WAAA,YAGA,QAAAC,qBAAAC,EAAAC,GAEA,GACAC,IADAF,EAAAG,OACA,GAEAC,EAAAC,MAAAC,UAAAC,MAAAC,KAAAR,EAAAS,IAAA,SAAAC,EAAAC,GACA,MAAAC,GAAAD,GAAAE,SAAAC,OACAC,SAEAC,MAAAC,OAAA,WACA,GAAAC,GAAAN,EAAAO,QAAAC,WAEAhB,GAAAiB,QAAA,SAAA5B,EAAAD,EAAA8B,GACA7B,EAAAyB,IACAhB,EAAAoB,EAAAnB,OAAAX,KAIAS,EAAAsB,YAAA,UAAAC,GAAAtB,EAAA,GAAAuB,SAAA,WAIA,QAAAC,UAAAC,GAcA,QAAAC,GAAAD,GACAA,EAAAE,KACAC,SAAA,GACAhB,IAAA,GACAiB,OAAA,GACAC,KAAA,KAjBAJ,EAAAD,EAEA,IAAAM,GAAA,GAEAC,EAAAP,EAAAQ,SACAC,EAAAF,EAAArB,SAAAC,IACAuB,EAAAD,EAAAF,EAAAI,SAAAX,EAAAW,SAAA,EAAAL,EAAA,EAEAM,EAAAZ,EAAAd,SAAAmB,KACAQ,EAAAb,EAAAc,KAAA,MAAAH,SAAA,GACAI,EAAAf,EAAAc,KAAA,UAWAzB,MAAAC,OAAA,WACA,GAAAC,GAAAN,EAAAO,QAAAC,WAEAgB,GAAAlB,GACAU,EAAAD,GACAe,EAAAb,IAAA,MAAA,IACAX,GAAAkB,GAAAC,GAAAnB,GACAS,EAAAE,KACAC,SAAA,QACAhB,IAAA,GACAiB,OAAA,OACAC,KAAAO,IAEAG,EAAAb,IAAA,MACAW,GAAA,GAAAH,EAAAnB,IAAAmB,EAAAD,OAGAR,EAAAD,GACAA,EAAAE,KACAf,IAAA,OACAiB,OAAAE,IAEAS,EAAAb,IAAA,MAAAW,KAKA,QAAAG,uBACA/B,EAAA,iBAAAgC,MAAA,SAAAC,GACAA,EAAAC,gBACA,IAAAC,GAAAnC,EAAAI,MAAAgC,KAAA,SACA,OAAApC,GAAAmC,GAAA5C,OAAA,GACAS,EAAA,cAAAqC,SAAA7B,UAAAR,EAAAmC,GAAAlC,SAAAC,KAAA,SACA,GAFA,SAOA,QAAAoC,aAAAC,GACAA,EAAA5D,KAAA,SAAAC,EAAAC,GACAmB,EAAAnB,GAAAmD,MAAA,SAAAC,GACA,GAAAO,GAAAxC,EAAAiC,EAAAE,QAAAK,OACAC,EAAAzC,EAAAiC,EAAAE,QAAAZ,SAAAmB,OAAA,GAAAC,UAAAC,QAAA,QAAA,GACA5C,GAAA,4BAAA6C,WAAA,YAAAjC,GAAAkC,SAAAL,GAAA,GAAAvD,KAAA,WAAA,YACAc,EAAA,gCAAA+C,IAAAP,GACAxC,EAAA,cAAAqC,SAAA7B,UAAAR,EAAA,cAAAC,SAAAC,KAAA,YA3HAF,EAAAgD,UAAAC,MAAA,WAEA,GAAAC,GAAA,GAAApC,UAAAd,EAAA,uBAEAxB,UAAAwB,EAAA,sBAEA+B,sBAEAO,YAAAtC,EAAA,qBAAAtB,IAAA,UAEAM,gBAAAgB,EAAA,4BAEAA,EAAAO,QAAAF,OAAA,WACA6C,EAAA7C,WAGAL,EAAAO,QAAA4C,OAAA,WACAD,EAAA,GAAApC,UAAAd,EAAA,wBACAkD,EAAA7C","file":"main-min.js","sourcesContent":["$(document).ready(function(){\r\n\r\n\tvar fixedNav = new FixedNav($('.programm .contents'));\r\n\r\n\taddLabel($('.programm-list li'));\r\n\r\n\tenableScrollButtons();\r\n\r\n\tchooseTheme($('.programm-list li').not('.busy'));\r\n\r\n\taddFucknDisable($('select option[selected]'));\r\n\r\n\t$(window).scroll(function(){\r\n\t\tfixedNav.scroll();\r\n\t});\r\n\r\n\t$(window).resize(function(){\r\n\t\tfixedNav = new FixedNav($('.programm .contents'));\r\n\t\tfixedNav.scroll();\r\n\t})\r\n});\r\n\r\nfunction addLabel($elems){\r\n\t$elems.not('.busy').each(function(i, el){\r\n\t\tel.innerHTML = el.innerHTML.trim() + \r\n\t\t\t'<span class=\"empty\"><span class=\"label\"></span></span>';\r\n\t});\r\n}\r\n\r\nfunction addFucknDisable($sel){\r\n\t$sel.attr('disabled', 'disabled');\r\n}\r\n\r\nfunction NavContentsControll($titles, $contents){\r\n\r\n\tvar count = $titles.length;\r\n\tvar active = 1;\r\n\r\n\tvar arrEls = Array.prototype.slice.call($titles.map(function(index, elem) {\r\n\t\treturn $(elem).offset().top;\r\n\t})).reverse();\r\n\r\n\tthis.scroll = function(){\r\n\t\tvar windowTop = $(window).scrollTop();\r\n\r\n\t\tarrEls.forEach(function(el, i, arr){\r\n\t\t\tif(windowTop < el){\r\n\t\t\t\tactive = arr.length - i;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t$contents.removeClass('active').eq(active-1).addClass('active');\r\n\t}\r\n}\r\n\r\nfunction FixedNav($nav){\r\n\r\n\tresetStyles($nav);\r\n\r\n\tvar paddingBottom = 85;\r\n\r\n\tvar parentNav = $nav.parent();\r\n\tvar minHeight = parentNav.offset().top;\r\n\tvar maxHeight = minHeight + parentNav.height() - $nav.height() + 2*paddingBottom/3;\r\n\r\n\tvar leftNav = $nav.offset().left;\r\n\tvar contentsListHeight = $nav.find('ul').height() - 34;\r\n\tvar contentsListSlider = $nav.find('.slider');\r\n\r\n\tfunction resetStyles($nav){\r\n\t\t$nav.css({\r\n\t\t\tposition: '',\r\n\t\t\ttop: '',\r\n\t\t\tbottom: '',\r\n\t\t\tleft: ''\r\n\t\t});\r\n\t}\r\n\t\r\n\tthis.scroll = function(){\r\n\t\tvar windowTop = $(window).scrollTop();\r\n\r\n\t\tif(windowTop < minHeight){\r\n\t\t\tresetStyles($nav);\r\n\t\t\tcontentsListSlider.css('top', 0);\r\n\t\t}else if(windowTop >= minHeight && windowTop <= maxHeight){\r\n\t\t\t$nav.css({\r\n\t\t\t\tposition: 'fixed',\r\n\t\t\t\ttop: 10,\r\n\t\t\t\tbottom: 'auto',\r\n\t\t\t\tleft: leftNav\r\n\t\t\t});\r\n\t\t\tcontentsListSlider.css('top', \r\n\t\t\t\tcontentsListHeight*(1 -(maxHeight - windowTop) / (maxHeight - minHeight))\r\n\t\t\t);\r\n\t\t}else{\r\n\t\t\tresetStyles($nav);\r\n\t\t\t$nav.css({\r\n\t\t\t\ttop: 'auto',\r\n\t\t\t\tbottom: paddingBottom\r\n\t\t\t});\r\n\t\t\tcontentsListSlider.css('top', contentsListHeight);\r\n\t\t};\r\n\t}\r\n}\r\n\r\nfunction enableScrollButtons(){\r\n\t$('[data-scroll]').click(function(e){\r\n\t\te.preventDefault();\r\n\t\tvar target = $(this).data('scroll');\r\n\t\tif($(target).length>0){\r\n\t\t\t$('html, body').animate({scrollTop:$(target).offset().top}, 'slow');\r\n\t\t\treturn false;\r\n\t\t}\r\n\t});\r\n}\r\n\r\nfunction chooseTheme($lists){\r\n\t$lists.each(function(i, el){\r\n\t\t$(el).click(function(e){\r\n\t\t\tvar text = $(e.target).text();\r\n\t\t\tvar number = $(e.target).parent().prev()[0].className.replace('title','');\r\n\t\t\t$('.main-form select option').removeAttr('selected').eq(parseInt(number)-1).attr('selected', 'selected');\r\n\t\t\t$('.main-form input.theme-input').val(text);\r\n\t\t\t$('html, body').animate({scrollTop:$('.main-form').offset().top}, 'slow');\r\n\t\t});\r\n\t});\r\n}"],"sourceRoot":"/source/"}